(this.webpackJsonppersonal_area_react=this.webpackJsonppersonal_area_react||[]).push([[0],{245:function(e,a,t){},246:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(40),r=t.n(c),o=(t(46),t(16)),s=t(21),m=t(22),i=t(24),u=t(23),d=t(13),p=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"form-container"},l.a.createElement(d.Form,null,l.a.createElement(d.Form.Group,null,l.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),l.a.createElement(d.Form.Input,{type:"email",id:"email",placeholder:"Enter email",onChange:this.props.handleChange})),l.a.createElement(d.Form.Group,null,l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),l.a.createElement(d.Form.Input,{type:"password",id:"password",placeholder:"Password",onChange:this.props.handleChange})),l.a.createElement("div",{className:"btn-container"},l.a.createElement(d.Button,{primary:!0,type:"submit",onClick:this.props.signIn},"Login"),l.a.createElement(d.Button,{primary:!0,type:"submit",onClick:this.props.createAccount},"Create Account"))))}}]),t}(n.Component),f=t(15),E=t(19);function h(e){var a={fullName:"",mobile:"",email:"",address:""},t=Object(n.useState)(a),c=Object(E.a)(t,2),r=c[0],s=c[1];Object(n.useEffect)((function(){""==e.currentId?s(Object(f.a)({},a)):s(Object(f.a)({},e.contactObject[e.currentId]))}),[e.currentId,e.contactObject]);var m=function(e){var a=e.target,t=a.name,n=a.value;s(Object(f.a)(Object(f.a)({},r),{},Object(o.a)({},t,n)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Registration form"),l.a.createElement("form",{autoComplete:"off",onSubmit:function(a){a.preventDefault(),e.addOrEdit(r)}},l.a.createElement("div",{className:"form-group input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("div",{className:"input-group-text"},l.a.createElement("i",{className:"fas fa-user"}))),l.a.createElement("input",{className:"form-control",placeholder:"Full name",name:"fullName",value:r.fullName,onChange:m})),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group input-group col-md-6"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("div",{className:"input-group-text"},l.a.createElement("i",{className:"fas fa-mobile-alt"}))),l.a.createElement("input",{className:"form-control",placeholder:"Mobile",name:"mobile",value:r.mobile,onChange:m})),l.a.createElement("div",{className:"form-group input-group col-md-6"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("div",{className:"input-group-text"},l.a.createElement("i",{className:"fas fa-envelope"}))),l.a.createElement("input",{className:"form-control",placeholder:"Email",name:"email",value:r.email,onChange:m}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{className:"form-control",placeholder:"Address",name:"address",value:r.address,onChange:m})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:""==e.currentId?"Save":"Update",className:"btn btn-primary btn-block"}))))}var b=t(11);function v(){var e=Object(n.useState)({}),a=Object(E.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(""),o=Object(E.a)(r,2),s=o[0],m=o[1];Object(n.useEffect)((function(){j.child("contacts").on("value",(function(e){null!==e.val()?c(Object(f.a)({},e.val())):c({})}))}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"jumbotron jumbotron-fluid text-center"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"display-4"},"Contact Register"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement(h,{addOrEdit:function(e){""===s?j.child("contacts").push(e,(function(e){e?console.log(e):m("")})):j.child("contacts/".concat(s)).set(e,(function(e){e?console.log(e):m("")}))},currentId:s,contactObject:t})),l.a.createElement("div",{className:"col-md-7"},l.a.createElement("table",{className:"table table-borderless table-stripped"},l.a.createElement("thead",{className:"thead-lite"},l.a.createElement("tr",null,l.a.createElement("th",null,"Full name"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,Object.keys(t).map((function(e){return l.a.createElement("tr",{key:e},l.a.createElement("td",null,t[e].fullName),l.a.createElement("td",null,t[e].mobile),l.a.createElement("td",null,t[e].email),l.a.createElement("td",null,l.a.createElement("a",{className:"btn text-primary",onClick:function(){m(e)}},l.a.createElement("i",{className:"fas fa-pencil-alt"})),l.a.createElement("a",{className:"btn text-danger",onClick:function(){var a;a=e,window.confirm("Are you shure to delete this contact?")&&j.child("contacts/".concat(a)).remove((function(e){e?console.log(e):m("")}))}},l.a.createElement("i",{className:"fas fa-trash-alt"}))))})))))))}t(244),t(245);var g=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).handleChange=function(e){var a=e.target,t=a.value,l=a.id;n.setState(Object(o.a)({},l,t))},n.createAccount=function(e){var a=n.state,t=a.email,l=a.password;b.auth().createUserWithEmailAndPassword(t,l).catch((function(e){var a=e.code,t=e.message;"auth/weak-password"==a?alert("The password is too weak."):alert(t)}))},n.getData=function(){b.database().ref("accounts").on("value",(function(e){return console.log(e.val())}))},n.sendData=function(){var e=n.state,a=e.key,t=e.value;b.database().ref(a).push(t)},n.signIn=function(e){e.preventDefault();var a=n.state,t=a.email,l=a.password;b.auth().signInWithEmailAndPassword(t,l).then((function(e){n.setState({hasAccount:!0})})).catch((function(e){return alert(e)}))},n.state={email:"",password:"",hasAccount:!0,key:"",value:"",name:""},n}return Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.database().ref("name").on("value",(function(a){e.setState({name:a.val()})}))}},{key:"render",value:function(){var e=this.state.hasAccount;return l.a.createElement("div",{className:"container"},e?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(v,null))):l.a.createElement(p,{handleChange:this.handleChange,createAccount:this.createAccount,signIn:this.signIn,sendData:this.sendData}))}}]),t}(n.Component),N=b.initializeApp({apiKey:"AIzaSyCi-HNHRZJ8Z-QZaPHJvXmfuFFhalQFX_Q",authDomain:"takeoff-project.firebaseapp.com",databaseURL:"https://takeoff-project.firebaseio.com",projectId:"takeoff-project",storageBucket:"takeoff-project.appspot.com",messagingSenderId:"903620000038",appId:"1:903620000038:web:675e7bd9f0c25a57f369e7"});r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g,null)),document.getElementById("root"));var j=a.default=N.database().ref()},41:function(e,a,t){e.exports=t(246)},46:function(e,a,t){}},[[41,1,2]]]);
//# sourceMappingURL=main.bac247f0.chunk.js.map